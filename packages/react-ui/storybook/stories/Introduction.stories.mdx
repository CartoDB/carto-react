import { Meta, Description } from '@storybook/addon-docs';
import { version } from '../../package.json';
import '../utils/docStyles.css';
import Doc from '../assets/doc.svg';
import Github from '../assets/github.svg';
import Figma from '../assets/figma.svg';
import Storybook from '../assets/storybook.svg';

<Meta title='Introduction' />

# CARTO for React - Widgets and UI Components

This storybook includes the UI Components (@carto/react-ui) for CARTO for React.

## Tech stack

The components are based on [Mui v5](https://mui.com/), and they include a CARTO theme + custom components and widgets.

We have currently support for `React` 17 and 18.

## Library version

<p className='text-tag'>{version}</p>

## Development state

We have a label in the story of each component that indicates its maturity and recommended use:

**Recommended use**

- `Validated`: Fully validated and ready-to-use implementation of a component
- `Needs update`: Needs an update due to some design changes, but it can be used in this state
- `Deprecated`: Legacy component that might be currently in use, but it shouldn't be used in new projects

**Not supported**

- `In development`: Work in progress or experimental. Not ready to use in production yet
- `Ready to review`: Ready to review and validation by CARTO design team and other stakeholders, prior to be consider fully done (it can be considered as a 2nd phase of `In development`).

## Resources

<div className='link-list'>
  <a
    className='link-item'
    href='https://github.com/CartoDB/carto-react/blob/master/DEVELOPERS.md'
    target='_blank'
  >
    <img src={Doc} alt='C4R docs' />
    <div>
      <strong>developers README.md</strong>
      Useful information for C4R developers
    </div>
  </a>
  <a
    className='link-item'
    href='https://github.com/CartoDB/carto-react/blob/master/UPGRADE.md'
    target='_blank'
  >
    <img src={Doc} alt='Upgrade docs' />
    <div>
      <strong>UPGRADE.md</strong>
      Useful information to migrate from Mui v4 to v5
    </div>
  </a>
  <a className='link-item' href='https://github.com/CartoDB/carto-react' target='_blank'>
    <img src={Github} alt='C4R GitHub' />
    <div>
      <strong>Carto for React library</strong>
      Core design system components for all CARTO products
    </div>
  </a>
  <a
    className='link-item'
    href='https://www.figma.com/file/nmaoLeo69xBJCHm9nc6lEV/C4R-Components-2.0-beta.3'
    target='_blank'
  >
    <img src={Figma} alt='Figma library' />
    <div>
      <strong>Figma design library</strong>
      Design library for the core design system components.
    </div>
  </a>
  <a
    className='link-item'
    href='https://cloud-native-storybook-carto-carto-frontend.vercel.app/'
    target='_blank'
  >
    <img src={Storybook} alt='CN Storybook' />
    <div>
      <strong>Cloud Native StoryBook</strong>
      Inventory and guides of use of common components in the cloud-native scope.
    </div>
  </a>
  <a className='link-item' href='https://github.com/CartoDB/cloud-native' target='_blank'>
    <img src={Github} alt='C4R GitHub' />
    <div>
      <strong>Cloud Native repository</strong>
      Github repository
    </div>
  </a>
</div>

## Storybook Development

### How to add a new Story

Put your `stories.js` files inside the `storybook/stories` folder following the same folder structure as the source files. For example:
`stories/widgetsUI/FormulaWidgetUI.stories.js` for `react-ui/src/widgets/FormulaWidgetUI.js` component.

As long as we are using a decorator to inject the MaterialUI theme, you just need to import and add your component to the `template` of your story.

```js
import React from 'react';
import FormulaWidgetUI from '../../../../react-widgets/src/widgetsUI/FormulaWidgetUI';

const Template = (args) => <FormulaWidgetUI {...args} />;
```

Then, export your story and the different variations:

```js
export default {
  title: 'Widgets/FormulaWidget',
  component: FormulaWidget
};

export const Default = Template.bind({});
Default.args = { data: 10000 };
```

Optionally, you can add some extra controls to your story, but by default Storybook will add automatic controls for your story arguments.
